import useDocusaurusContext from '@docusaurus/useDocusaurusContext';
import { useEffect, useRef } from 'react';

export function Hero() {
  const { siteConfig } = useDocusaurusContext();
  return (
    <div className="container py-10">
      <div className="bg-primary/80 rounded-3xl relative shadow-2xl p-6 lg:p-16 aspect-square md:aspect-video flex justify-center items-center overflow-hidden">
        <Background />
        <TrailingLight />
        <div className="bg-gradient-to-b from-black/0 to-primary/50 absolute w-full h-full inset-0 z-10"></div>
        <div className="bg-gradient-to-t from-black/0 to-primary/50 absolute w-full h-full inset-0 z-10"></div>
        <div className="space-y-10 relative z-10">
          <h1 className="text-center">
            <Logo className="hidden md:block" width={500} />
            <Logo className="inline-block md:hidden" width={300} />
            <span className="sr-only">{siteConfig.title}</span>
          </h1>

          <p className="text-xl font-medium text-center align-middle text-white">
            Web3-powered, decentralized AI data ecosystem.
          </p>
          <div className="w-fit mx-auto">
            <a
              className="flex items-center rounded-xl text-white hover:text-white bg-[#c0426a]"
              href="#tay"
            >
              <img
                src="/image/tay.jpg"
                alt="TAY"
                className="w-20 h-20 rounded-tl-lg rounded-bl-lg overflow-hidden"
              />
              <span className="font-bold text-lg px-8 h-20 flex justify-center items-center relative overflow-hidden rounded-lg">
                <span className="relative z-10">Learn more about TAY</span>
                <span className="absolute w-20 h-6 bg-gradient-to-r from-[#c0426a] to-[#0ABEEF]/80 z-0 -right-1 -top-1"></span>
                <span className="absolute w-20 h-6 bg-gradient-to-r from-[#c0426a] to-[#ba6bfb]/90 z-0 -right-2 top-2"></span>
                <span className="absolute w-20 h-6 bg-gradient-to-r from-[#c0426a] to-[#6bfbed]/100 z-0 -right-4 top-8"></span>
                <span className="absolute w-20 h-6 bg-gradient-to-r from-[#c0426a]/20 to-[#36ff65]/90 z-0 -right-1 top-16"></span>
                <span className="absolute w-20 h-6 bg-gradient-to-r from-[#c0426a]/20 to-[#36b9ff]/90 z-0 -right-1 top-14"></span>
              </span>
            </a>
          </div>
        </div>
      </div>
    </div>
  );
}

function Logo({
  width = 370,
  className,
}: {
  width?: number;
  className?: string;
}) {
  return (
    <svg
      width={width}
      height={(width / 370) * 76}
      viewBox="0 0 370 76"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={className}
    >
      <rect x="0.5" y="0.5" width="75" height="75" rx="7.58123" fill="white" />
      <circle cx="37.4585" cy="38" r="30.731" fill="black" />
      <circle cx="19.8592" cy="36.917" r="7.71661" fill="white" />
      <circle cx="48.2889" cy="52.621" r="7.71661" fill="white" />
      <circle cx="40.5722" cy="35.9694" r="6.22744" fill="white" />
      <circle cx="51.1318" cy="22.7022" r="4.33213" fill="white" />
      <line
        x1="44.9483"
        y1="32.0309"
        x2="49.0096"
        y2="25.8034"
        stroke="white"
        strokeWidth="0.541516"
      />
      <line
        x1="27.5758"
        y1="36.7816"
        x2="34.6155"
        y2="36.7816"
        stroke="white"
        strokeWidth="0.541516"
      />
      <line
        x1="42.7202"
        y1="40.7458"
        x2="45.4278"
        y2="47.7855"
        stroke="white"
        strokeWidth="0.541516"
      />
      <path
        d="M325.473 57V24.1701L324.842 19H336.448L354.236 37.483L356.696 40.3265H357.389V19H369.5V57H358.966L340.674 38.3231L338.214 35.2857H337.584V57H325.473Z"
        fill="white"
      />
      <path
        d="M286.75 57C282.293 57 279.034 55.9875 276.973 53.9626C274.955 51.8946 273.946 48.6202 273.946 44.1395V31.7959C273.946 27.4014 274.955 24.1701 276.973 22.102C278.992 20.034 282.251 19 286.75 19H305.168C309.583 19 312.8 20.034 314.819 22.102C316.879 24.1701 317.909 27.4014 317.909 31.7959V44.1395C317.909 48.6202 316.879 51.8946 314.819 53.9626C312.758 55.9875 309.541 57 305.168 57H286.75ZM291.102 48.2109H300.879C304.159 48.2109 305.799 46.6814 305.799 43.6224V32.3129C305.799 29.2971 304.159 27.7891 300.879 27.7891H291.102C289.42 27.7891 288.159 28.1338 287.318 28.8231C286.477 29.5125 286.056 30.6757 286.056 32.3129V43.6224C286.056 45.2166 286.477 46.3798 287.318 47.1122C288.159 47.8447 289.42 48.2109 291.102 48.2109Z"
        fill="white"
      />
      <path d="M254.924 57V19H267.035V57H254.924Z" fill="white" />
      <path
        d="M214.373 57C211.513 57 209.411 56.8707 208.065 56.6122C206.72 56.3537 206.047 56.0522 206.047 55.7075L209.831 47.3707C210.798 47.5431 212.796 47.7154 215.823 47.8878C218.851 48.017 222.783 48.0816 227.619 48.0816H232.602C234.073 48.0816 235.062 47.8662 235.566 47.4354C236.071 47.0045 236.323 46.3798 236.323 45.5612V44.915C236.323 43.881 236.071 43.1701 235.566 42.7823C235.062 42.3946 234.073 42.2007 232.602 42.2007H218.157C213.91 42.2007 210.819 41.4036 208.885 39.8095C206.951 38.1723 205.984 35.5227 205.984 31.8605V29.534C205.984 27.6383 206.32 25.8934 206.993 24.2993C207.708 22.7052 208.906 21.4342 210.588 20.4864C212.27 19.4955 214.583 19 217.527 19H238.468C241.033 19 243.156 19.1508 244.838 19.4524C246.562 19.754 247.424 20.0771 247.424 20.4218L245.532 28.4354C244.355 28.3061 242.126 28.1769 238.846 28.0476C235.608 27.8753 231.487 27.7891 226.483 27.7891L221.942 27.7245C220.638 27.7245 219.713 27.9184 219.166 28.3061C218.62 28.6508 218.325 29.3186 218.283 30.3095V30.7619C218.283 31.7528 218.578 32.4422 219.166 32.8299C219.755 33.2177 220.701 33.4116 222.005 33.4116H235.882C238.573 33.4116 240.865 33.6916 242.757 34.2517C244.649 34.8118 246.1 35.8458 247.109 37.3537C248.118 38.8186 248.623 40.9943 248.623 43.881V46.2075C248.623 49.4388 247.803 52.0454 246.163 54.0272C244.565 56.0091 241.769 57 237.774 57H214.373Z"
        fill="white"
      />
      <path
        d="M166.694 57C163.835 57 161.732 56.8707 160.386 56.6122C159.041 56.3537 158.368 56.0522 158.368 55.7075L162.153 47.3707C163.12 47.5431 165.117 47.7154 168.145 47.8878C171.172 48.017 175.104 48.0816 179.94 48.0816H184.923C186.395 48.0816 187.383 47.8662 187.888 47.4354C188.392 47.0045 188.644 46.3798 188.644 45.5612V44.915C188.644 43.881 188.392 43.1701 187.888 42.7823C187.383 42.3946 186.395 42.2007 184.923 42.2007H170.479C166.231 42.2007 163.141 41.4036 161.206 39.8095C159.272 38.1723 158.305 35.5227 158.305 31.8605V29.534C158.305 27.6383 158.641 25.8934 159.314 24.2993C160.029 22.7052 161.227 21.4342 162.909 20.4864C164.591 19.4955 166.904 19 169.848 19H190.789C193.354 19 195.478 19.1508 197.16 19.4524C198.884 19.754 199.746 20.0771 199.746 20.4218L197.853 28.4354C196.676 28.3061 194.447 28.1769 191.167 28.0476C187.93 27.8753 183.809 27.7891 178.805 27.7891L174.263 27.7245C172.96 27.7245 172.034 27.9184 171.488 28.3061C170.941 28.6508 170.647 29.3186 170.605 30.3095V30.7619C170.605 31.7528 170.899 32.4422 171.488 32.8299C172.076 33.2177 173.023 33.4116 174.326 33.4116H188.203C190.894 33.4116 193.186 33.6916 195.078 34.2517C196.97 34.8118 198.421 35.8458 199.43 37.3537C200.44 38.8186 200.944 40.9943 200.944 43.881V46.2075C200.944 49.4388 200.124 52.0454 198.484 54.0272C196.886 56.0091 194.09 57 190.095 57H166.694Z"
        fill="white"
      />
      <path d="M139.914 57V19H152.025V57H139.914Z" fill="white" />
      <path
        d="M96.1308 57V24.1701L95.5 19H136.121V27.7891H108.431V33.6701H129.309V42.6531H108.431V57H96.1308Z"
        fill="white"
      />
    </svg>
  );
}

function Background() {
  return (
    // 항상 부모의 가운데에 위치하도록 설정
    // absolute: 부모 요소를 기준으로 위치를 잡음
    <svg
      className="absolute z-10"
      width="1560"
      height="1268"
      viewBox="0 0 1560 1268"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M90 0L0 50V150L90 200L180 150V50L90 0ZM90 610L0 660V760L90 810L180 760V660L90 610ZM0 355L90 305L180 355V455L90 505L0 455V355ZM90 915L0 965V1065L90 1115L180 1065V965L90 915ZM92 203L182 153L272 203V303L182 353L92 303V203ZM182 763L92 813V913L182 963L272 913V813L182 763ZM92 508L182 458L272 508V608L182 658L92 608V508ZM182 1068L92 1118V1218L182 1268L272 1218V1118L182 1068ZM736 50L826 0L916 50V150L826 200L736 150V50ZM826 610L736 660V760L826 810L916 760V660L826 610ZM736 355L826 305L916 355V455L826 505L736 455V355ZM826 915L736 965V1065L826 1115L916 1065V965L826 915ZM828 203L918 153L1008 203V303L918 353L828 303V203ZM918 763L828 813V913L918 963L1008 913V813L918 763ZM828 508L918 458L1008 508V608L918 658L828 608V508ZM918 1068L828 1118V1218L918 1268L1008 1218V1118L918 1068ZM368 50L458 0L548 50V150L458 200L368 150V50ZM458 610L368 660V760L458 810L548 760V660L458 610ZM368 355L458 305L548 355V455L458 505L368 455V355ZM458 915L368 965V1065L458 1115L548 1065V965L458 915ZM460 203L550 153L640 203V303L550 353L460 303V203ZM550 763L460 813V913L550 963L640 913V813L550 763ZM460 508L550 458L640 508V608L550 658L460 608V508ZM550 1068L460 1118V1218L550 1268L640 1218V1118L550 1068ZM1104 50L1194 0L1284 50V150L1194 200L1104 150V50ZM1194 610L1104 660V760L1194 810L1284 760V660L1194 610ZM1104 355L1194 305L1284 355V455L1194 505L1104 455V355ZM1194 915L1104 965V1065L1194 1115L1284 1065V965L1194 915ZM1196 203L1286 153L1376 203V303L1286 353L1196 303V203ZM1286 763L1196 813V913L1286 963L1376 913V813L1286 763ZM1196 508L1286 458L1376 508V608L1286 658L1196 608V508ZM1286 1068L1196 1118V1218L1286 1268L1376 1218V1118L1286 1068ZM184 50L274 0L364 50V150L274 200L184 150V50ZM274 610L184 660V760L274 810L364 760V660L274 610ZM184 355L274 305L364 355V455L274 505L184 455V355ZM274 915L184 965V1065L274 1115L364 1065V965L274 915ZM276 203L366 153L456 203V303L366 353L276 303V203ZM366 763L276 813V913L366 963L456 913V813L366 763ZM276 508L366 458L456 508V608L366 658L276 608V508ZM366 1068L276 1118V1218L366 1268L456 1218V1118L366 1068ZM920 50L1010 0L1100 50V150L1010 200L920 150V50ZM1010 610L920 660V760L1010 810L1100 760V660L1010 610ZM920 355L1010 305L1100 355V455L1010 505L920 455V355ZM1010 915L920 965V1065L1010 1115L1100 1065V965L1010 915ZM1012 203L1102 153L1192 203V303L1102 353L1012 303V203ZM1102 763L1012 813V913L1102 963L1192 913V813L1102 763ZM1012 508L1102 458L1192 508V608L1102 658L1012 608V508ZM1102 1068L1012 1118V1218L1102 1268L1192 1218V1118L1102 1068ZM552 50L642 0L732 50V150L642 200L552 150V50ZM642 610L552 660V760L642 810L732 760V660L642 610ZM552 355L642 305L732 355V455L642 505L552 455V355ZM642 915L552 965V1065L642 1115L732 1065V965L642 915ZM644 203L734 153L824 203V303L734 353L644 303V203ZM734 763L644 813V913L734 963L824 913V813L734 763ZM644 508L734 458L824 508V608L734 658L644 608V508ZM734 1068L644 1118V1218L734 1268L824 1218V1118L734 1068ZM1288 50L1378 0L1468 50V150L1378 200L1288 150V50ZM1378 610L1288 660V760L1378 810L1468 760V660L1378 610ZM1288 355L1378 305L1468 355V455L1378 505L1288 455V355ZM1378 915L1288 965V1065L1378 1115L1468 1065V965L1378 915ZM1380 203L1470 153L1560 203V303L1470 353L1380 303V203ZM1470 763L1380 813V913L1470 963L1560 913V813L1470 763ZM1380 508L1470 458L1560 508V608L1470 658L1380 608V508ZM1470 1068L1380 1118V1218L1470 1268L1560 1218V1118L1470 1068Z"
        fill="#2f7d7d"
      />
    </svg>
  );
}

// 마우스를 따라다니는 원 그리기
function TrailingLight() {
  const lightRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    const handleMouseMove = (e: MouseEvent) => {
      if (!lightRef.current) return;

      // 현재 마우스의 위치 = 화면상 마우스의 위치 - 부모 요소 좌측 여백
      const currentX =
        e.clientX - lightRef.current.parentElement!.offsetLeft - 96;
      const currentY =
        e.clientY - lightRef.current.parentElement!.offsetTop - 96;

      lightRef.current.style.left = `${currentX}px`;
      lightRef.current.style.top = `${currentY}px`;
    };
    window.addEventListener('mousemove', handleMouseMove);
    return () => {
      window.removeEventListener('mousemove', handleMouseMove);
    };
  }, []);

  return (
    <div
      ref={lightRef}
      className="absolute z-0 w-48 h-48 rounded-full bg-white blur-3xl"
    />
  );
}
